//
//  NSURL+ManOpenTests.m
//  ManOpenTests
//
//  Created by Don McCaughey on 12/24/17.
//

#import <XCTest/XCTest.h>
#import "NSURL+ManOpen.h"


@interface NSURL_ManOpenTests : XCTestCase
@end


@implementation NSURL_ManOpenTests

#pragma mark - file: scheme

- (void)testFileScheme
{
    NSURL *url = [NSURL URLWithString:@"file:///usr/local/share/man/man1/wget.1"];
    
    XCTAssertTrue(url.isFileScheme);
    XCTAssertFalse(url.isManOpenScheme);
    XCTAssertFalse(url.isXManPageScheme);
    
    url = [NSURL URLWithString:@"FILE:///usr/local/share/man/man1/wget.1"];
    
    XCTAssertTrue(url.isFileScheme);
    XCTAssertFalse(url.isManOpenScheme);
    XCTAssertFalse(url.isXManPageScheme);
    
    url = [NSURL URLWithString:@"File:///usr/local/share/man/man1/wget.1"];
    
    XCTAssertTrue(url.isFileScheme);
    XCTAssertFalse(url.isManOpenScheme);
    XCTAssertFalse(url.isXManPageScheme);
}

#pragma mark - manopen: scheme

- (void)testManOpenScheme
{
    NSURL *url = [NSURL URLWithString:@"manopen://1/printf"];
    
    XCTAssertFalse(url.isFileScheme);
    XCTAssertTrue(url.isManOpenScheme);
    XCTAssertFalse(url.isXManPageScheme);
    
    url = [NSURL URLWithString:@"MANOPEN://1/printf"];
    
    XCTAssertFalse(url.isFileScheme);
    XCTAssertTrue(url.isManOpenScheme);
    XCTAssertFalse(url.isXManPageScheme);
    
    url = [NSURL URLWithString:@"ManOpen://1/printf"];
    
    XCTAssertFalse(url.isFileScheme);
    XCTAssertTrue(url.isManOpenScheme);
    XCTAssertFalse(url.isXManPageScheme);
}

#pragma mark - x-man-page: scheme

- (void)testXManPageScheme
{
    NSURL *url = [NSURL URLWithString:@"x-man-page://1/printf"];
    
    XCTAssertFalse(url.isFileScheme);
    XCTAssertFalse(url.isManOpenScheme);
    XCTAssertTrue(url.isXManPageScheme);

    url = [NSURL URLWithString:@"X-MAN-PAGE://1/printf"];
    
    XCTAssertFalse(url.isFileScheme);
    XCTAssertFalse(url.isManOpenScheme);
    XCTAssertTrue(url.isXManPageScheme);

    url = [NSURL URLWithString:@"X-Man-Page://1/printf"];
    
    XCTAssertFalse(url.isFileScheme);
    XCTAssertFalse(url.isManOpenScheme);
    XCTAssertTrue(url.isXManPageScheme);
}

@end
